<?xml version = "1.0" encoding  = "utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict //EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Basic DOM Functionality</title>
    <style type="text/css">
        h2,h4       { text-align: center;
                       font-family: tahoma, geneva, sans-serif }
        p           { margin-left: 5%;
                        margin-right: 5%;
                        font-family: Arial, helvetica, sans-serif }
        ul          { margin-left: 10% }
        a           { text-decoration: none }
        a:hover     { text-decoration: underline }
        .nav        { width: 80%;
                        border-top: 3px dashed blue;
                        padding-top: 10px }
        .highlighted { background-color: yellow}
        .submit     { width: 120px}

    </style>
    <script type="text/javascript">
        <!--
        var currentNode;            // stores curently highlighted node
        var idcount = 0;            // to assign a unique id to new elements

        // gets and highlight an element by its id attribute
        function byId() {
            var id = document.getElementById("gbi").value;
            var target = document.getElementById(id);

            if( target )
                    switchTo( target );
        }                           // end of function byId

        // insert a paragraph element before the current element using insertBefore method
        function insert() {
            var newNode = createNewNode(
                    document.getElementById("ins").value);
            currentNode.parentNode.insertBefore(newNode, currentNode);
            switchTo(newNode);
        }                           // end of function insert

        //append a paragraph node child of current node
        function appendNode() {
            var newNode = createNewNode(
                    document.getElementById("append").value);
            currentNode.appendChild(newNode);
            switchTo(newNode);
        }                           //end of function append node

        // replace the currently selected node with paragraph node
        function replaceCurrent() {
            var newNode = createNewNode(
                    document.getElementById("replace").value);
            currentNode.parentNode.replaceChild(newNode, currentNode);
            switchTo(newNode);
        }                           // end of function replaceCurrent

        // remove current node
        function remove() {
            if(currentNode.parentNode == document.body)
                    alert("Can't remove a top-level element ");
            else{
                var oldNode = currentNode;
                switchTo(oldNode.parentNode);
                currentNode.removeChild(oldNode);
            }
        }                           // end of function remove

        // get and highlight parent of current node
        function parent() {
            var target = currentNode.parentNode;
            if( target != document.body)
                    switchTo( target);
            else
                    alert("No parent");
        }                           // end function parent

        // helper function that returns a new paragraph ndoe containing a unique id and given text
        function createNewNode( text ) {
            var newNode = document.createElement("p");
            nodeId = "new" + idcount;
            ++idcount;
            newNode.id = nodeId;
            text = "[" + nodeId + "]" + text;
            newNode.appendChild(document.createTextNode(text));
            return newNode;
        }                           // end function createNewNode

        // helper function that switches to a new currentNode
        function switchTo(newNode) {
            currentNode.className = "";     // remove old highlighting
            currentNode = newNode;
            currentNode.className = "highlighted";  // highlight new node
            document.getElementById("gbi").value = currentNode.id;
        }                           // end function switchTo

        //-->
    </script>
</head>
<body onload="currentNode = document.getElementById('bigheading')">
<h2 id = "bigheading" class="highlighted">
    [bigheading] DHTML Object Model
</h2>
<h4 id = "smallheading">
    [smallheading] Element Functionality
</h4>
<p id="para1">[para1] The Document Object Model (DOM) allows for quick,
    dynamic access to all elements in an XHTML document for manipulation
    with Javascript.
</p>
<p id="para2">[para2] For more information check out the Javascript
    and DOM section of Deitel's
    <a id="link" href="http://www.deitel.com/javascript">
        [link] Javascript Resource center.
    </a>
</p>
<p id="para3">[para3] The buttons below demonstrate:(list)</p>
<ul id="list">
    <li id="item1">[item1] getElementById and parentNode </li>
    <li id="item2">[item2] insertBefore and appendChild </li>
    <li id="item3">[item3] replaceChild and removeChild </li>
</ul>
<div id="nav" class="nav">
    <form onsubmit="return false" action="">
        <table>
            <tr>
                <td>
                    <input type="text" id="gbi" value="bigheading" />
                </td>
                <td>
                    <input type="submit" value="Get By id" onclick="byId()"
                    class="submit" />
                </td>
            </tr>
            <tr>
                <td>
                    <input type="text" id="ins" />
                </td>
                <td>
                    <input type="submit" value="Insert Before"
                    onclick="insert()" class="submit"/>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="text" id="append" />
                </td>
                <td>
                    <input type="submit" value="Append Child"
                    onclick="appendNode()" class="submit"/>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="text" id="replace" />
                </td>
                <td>
                    <input type="submit" value="Replace Current"
                    onclick="replaceCurrent()" class="submit" />
                </td>
            </tr>
            <tr>
                <td />
                <td>
                    <input type="submit" value="Remove Current"
                    onclick="remove()" class="submit" />
                </td>
            </tr>
            <tr>
                <td />
                <td>
                    <input type="submit" value="Get Parent"
                    onclick="parent()" class="submit"/>
                </td>
            </tr>
        </table>
    </form>
</div>
</body>
</html>