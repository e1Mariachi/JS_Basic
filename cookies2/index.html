<?xml version = "1.0" encoding  = "utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict //EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Using Cookies</title>
    <script type="text/javascript">
        <!--
        var now = new Date();
        var hour = now.getHours();
        var name;

        if(hours < 12)
                document.write("<h4>Morning, ");
        else
        {
            hour = hour - 12;           // convert from 24-hour clock to pm time
            if(hour < 6)
                    document.write("<h4>Afternoon, ");
            else
                    document.write("<h4>Evening, ");
        }

        if(document.cookie)
        {
            //convert escape characters in the cookie string to their English notation
            var myCookie = unescape(document.cookie);

            // split cookie into tokens using '=' as delimiter
            var cookieToken = myCookie.split("=");

            //set name to the the part of cookie that follows the '='
            name = cookieToken[1];
        }
        else
        {
            //if there's no cookie ask user to input name
            name = window.prompt("Please enter your name", "Paul");

            //escape special characters in name string and add the name to cookie
            document.cookie = "name=" + escape(name);
        }

        document.writeln(name + ", welcome to JavaScript!</h4>");
        document.writeln("<a herf = 'javascript:wrongPerson()'> " +
                        "Click here if you are not" + name + "</a>");

        //reset document's cookie if wrong person
        function wrongPerson() {
            // reset the cookie
            document.cookie = "name=null;" +
                            " expires= 01-Jan-16 00:00:01 GMT";

            // reload the page to get a new name after removing the cookie
            location.reload();
        }
        // -->
    </script>
</head>
<body>
<p>Click Refresh (or Reload) to run the script again</p>
</body>

</html>